package com.introtoandroid.advancedlayouts;import android.support.v4.content.CursorLoader;import android.content.Intent;import android.database.Cursor;import android.graphics.Color;import android.os.Bundle;import android.provider.ContactsContract;import android.support.v4.app.NavUtils;import android.support.v4.app.TaskStackBuilder;import android.support.v7.app.AppCompatActivity;import android.support.v7.widget.Toolbar;import android.view.MenuItem;import android.view.View;import android.widget.AdapterView;import android.widget.ListAdapter;import android.widget.ListView;import android.support.v4.widget.SimpleCursorAdapter;import android.widget.Toast;public class ListAdapterSampleActivity extends AppCompatActivity {    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        CursorLoader loader = new CursorLoader(                this, ContactsContract.CommonDataKinds.Phone.CONTENT_URI,                null, null, null, null);        Cursor contacts = loader.loadInBackground();        ListAdapter adapter = new SimpleCursorAdapter(                this, R.layout.scratch_layout,                contacts, new String[]{                ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME,                ContactsContract.CommonDataKinds.Phone.NUMBER        }, new int[]{                R.id.scratch_text1,                R.id.scratch_text2        }, 0);        setContentView(R.layout.scratch_list);        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);        toolbar.setTitleTextColor(Color.WHITE);        setSupportActionBar(toolbar);        assert getSupportActionBar() != null;        getSupportActionBar().setDisplayHomeAsUpEnabled(true);        ListView av = (ListView) findViewById(R.id.scratch_adapter_view);        av.setAdapter(adapter);        av.setOnItemClickListener(new AdapterView.OnItemClickListener() {            @Override            public void onItemClick(                    AdapterView<?> parent,                    View view, int position, long id) {                Toast.makeText(ListAdapterSampleActivity.this,                        "Clicked _id=" + id, Toast.LENGTH_SHORT).show();            }        });    }    @Override    public boolean onOptionsItemSelected(MenuItem item) {        switch (item.getItemId()) {            case android.R.id.home:                Intent upIntent = NavUtils.getParentActivityIntent(this);                if (NavUtils.shouldUpRecreateTask(this, upIntent)) {                    TaskStackBuilder.create(this)                            .addNextIntentWithParentStack(upIntent)                            .startActivities();                } else {                    NavUtils.navigateUpTo(this, upIntent);                }                return true;        }        return super.onOptionsItemSelected(item);    }}